<p-toast></p-toast>

<div class="row pt-5">
    <div class="col-md-6 mx-auto">
      <div class="card rounded-0">
        <div class="card-header">
          <h3 class="mb-0">Add Request</h3>
        </div>
        <div class="card-body">
          <form class="form" [formGroup]="addRequest">
  
            <div class="form-group">
              <label for="request">Request Desc</label>
              <input formControlName="request"  name="request" type="text" class="form-control rounded-0" [ngClass]="{ 'is-invalid': addRequest.controls['request'].invalid && (addRequest.controls['request'].dirty || addRequest.controls['request'].touched) }" required  >
                <div *ngIf="addRequest.controls['request'].invalid && (addRequest.controls['request'].dirty || addRequest.controls['request'].touched)" class="invalid-feedback">
                  <div *ngIf="addRequest.controls['request'].errors?.['required']">Request is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="quantity">Quantity</label>
                <input formControlName="quantity"  name="quantity" type="text" class="form-control rounded-0" [ngClass]="{ 'is-invalid': addRequest.controls['quantity'].invalid && (addRequest.controls['quantity'].dirty || addRequest.controls['quantity'].touched) }" required  >
                  <div *ngIf="addRequest.controls['quantity'].invalid && (addRequest.controls['quantity'].dirty || addRequest.controls['quantity'].touched)" class="invalid-feedback">
                    <div *ngIf="addRequest.controls['quantity'].errors?.['required']">Quantity is required</div>
                  </div>
              </div>
            
            <div class="form-group">
              <label for="notes">Notes</label>
              <input type="text" formControlName="notes"  name="notes"  class="form-control rounded-0"  [ngClass]="{ 'is-invalid':  addRequest.controls['notes'].invalid && (addRequest.controls['notes'].dirty || addRequest.controls['notes'].touched) }"  required >
                <div *ngIf="addRequest.controls['notes'].invalid && (addRequest.controls['notes'].dirty || addRequest.controls['notes'].touched)" class="invalid-feedback">
                  <div *ngIf="addRequest.controls['notes'].errors?.['required']">Notes is required</div>
                </div>
            </div>
  <br>
            <button *ngIf="currentMode==uimode.Add" [disabled]= "addRequest.invalid" type="button" (click)="add()" class="btn btn-success float-right">
              Add
            </button>
            
            <button *ngIf="currentMode==uimode.Update"  [disabled]= "addRequest.invalid" type="button" (click)="update()" class="btn btn-success float-right">
              Update
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>